{"version":3,"sources":["webpack:///./components/Header/index.js?6499","webpack:///./components/signin/Signin.js?df65","webpack:///./node_modules/next/router.js?e7a6","webpack:///./pages/styles.js?48d1"],"names":["Header","pathname","router","withRouter","config","require","Signin","store","isServer","query","props","signinWithGoogle","bind","handleSocialLogin","handleSocialLoginFailure","user","axiosSocialConfig","url","method","data","axios","then","axiosCabinQuestConfig","profile","cabinQuestUser","response","model","status","postDefaultPark","setCabinQuestUser","getCabinQuestPark","name","username","email","err","location","href","google","clientID","createUser","matchStateToProps","home","state","mapDispatchToProps","bindActionCreators","dispatch","compose","graphql","mutate","variables","updateQueries","allPosts","previousResult","mutationResult","newUser","Object","assign","withRedux","Form","borderBottom","paddingBottom","marginBottom","H1","fontSize","H2","Input","display","Base","flexDirection","margin","padding","Building"],"mappings":"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","file":"3.9bc63a224e9b569444dd.hot-update.js","sourcesContent":["import Link from 'next/link';\nimport { withRouter } from 'next/router';\nimport { Container, LinkText } from './styles';\n\nconst Header = ({ router: { pathname } }) => (\n    <Container>\n        <Link prefetch href=\"/bellwoods\">\n            <a>\n                <LinkText isActive={pathname === '/about' && 'is-active'}>\n                    bellwoods\n                </LinkText>\n            </a>\n        </Link>\n    </Container>\n);\n\nexport default withRouter(Header);\n\n\n\n// WEBPACK FOOTER //\n// ./components/Header/index.js","import React, { Component } from 'react';\nimport withRedux from 'next-redux-wrapper';\nimport { compose } from 'recompose';\nimport { bindActionCreators } from 'redux';\nimport initializeStore from '../../store/store';\nimport Link from 'next/link';\nimport * as actionsHome from '../../actions/home_actions';\nimport * as actionsAuth from '../../actions/auth_actions';\nimport {\n    getCabinQuestPark,\n    postDefaultPark\n} from '../../actions/feed_cabinquest_park_actions';\nimport * as _ from 'lodash';\nimport css from 'styled-jsx/css';\nimport SocialButton from './SocialButton';\nimport axios from 'axios';\nimport { graphql } from 'react-apollo';\nimport gql from 'graphql-tag';\n\nconst config = require('../../config/config');\n\nclass Signin extends Component {\n    static getInitialProps({ store, isServer, pathname, query }) {}\n\n    constructor(props) {\n        super(props);\n        this.signinWithGoogle = this.signinWithGoogle.bind(this);\n        this.handleSocialLogin = this.handleSocialLogin.bind(this);\n        this.handleSocialLoginFailure = this.handleSocialLoginFailure.bind(\n            this\n        );\n    }\n\n    componentDidMount() {\n\n    }\n\n    componentDidUpdate() {}\n\n    handleSocialLogin(user) {\n        ////.log('Signin user: ', user);\n\n        // have we connected this social account?\n        const axiosSocialConfig = {\n            url: '/authUsers/addSocialLogin',\n            method: 'post',\n            data: { user }\n        };\n\n        axios(axiosSocialConfig).then(\n            response => {\n                ////.log('Signin social add response: ', response);\n            },\n            error => {\n                ////.log('Signin social add error: ', error);\n            }\n        );\n\n        const axiosCabinQuestConfig = {\n            url: '/cabinQuestUsers/getUserByEmail',\n            method: 'post',\n            data: { user: user.profile }\n        };\n\n        axios(axiosCabinQuestConfig).then(\n            response => {\n                //.log('Signin cabinquestuser: ', response);\n\n                const cabinQuestUser = response.data.model;\n                if (cabinQuestUser.status === 'minted') {\n                    this.props.postDefaultPark(cabinQuestUser);\n                }\n\n                this.props.setCabinQuestUser(cabinQuestUser);\n\n                this.props.getCabinQuestPark();\n\n                const name = cabinQuestUser.username;\n\n                if (user && user.profile.email) {\n                    const email = user.profile.email;\n                    /*\n                    this.props.getUser(email).then(\n                        response => {\n                            //.log('Signin getUser');\n\n                            //this.props.createUser(name, email);\n                        },\n                        error => {}\n                    );\n                    */\n                }\n\n                //.log('Signin cabinquestuser this.props: ', this.props);\n            },\n            error => {}\n        );\n    }\n\n    handleSocialLoginFailure(err) {\n        //.log(err);\n    }\n\n    signinWithGoogle() {\n        // this.props.fetchSignin(\"google\");\n        // this.props.history.push(\"/auth/google\");\n        location.href = '/auth/google';\n    }\n\n    render() {\n        return (\n            <div>\n                {/* <Link href=\"/auth/google\">\n          <a>sign in with google</a>\n        </Link>*/}\n                {/* <SocialButton\n          provider=\"facebook\"\n          appId=\"1523865861168072\"\n          onLoginSuccess={this.handleSocialLogin}\n          onLoginFailure={this.handleSocialLoginFailure}\n        >\n          Login with Facebook\n        </SocialButton>*/}\n                <SocialButton\n                    provider=\"google\"\n                    appId={config.google.clientID}\n                    onLoginSuccess={this.handleSocialLogin}\n                    onLoginFailure={this.handleSocialLoginFailure}\n                >\n                    Login with Google\n                </SocialButton>\n            </div>\n        );\n    }\n}\n/*\nhttps://medium.com/handlebar-labs/graphql-authentication-with-react-native-apollo-part-1-2-9613aacd80b3\n*/\n\nconst createUser = gql`\n    mutation createUser($name: String!, $email: String!) {\n        createUser(name: $name, email: $email) {\n            id\n            name\n            email\n            createdAt\n        }\n    }\n`;\n\nconst matchStateToProps = state => ({ home: state.home });\nconst mapDispatchToProps = dispatch =>\n    bindActionCreators(\n        { ...actionsHome, ...actionsAuth, getCabinQuestPark, postDefaultPark },\n        dispatch\n    );\n\nexport default compose(\n    graphql(createUser, {\n        props: ({ mutate }) => ({\n            createUser: (name, email) =>\n                mutate({\n                    variables: { name, email },\n                    updateQueries: {\n                        allPosts: (previousResult, { mutationResult }) => {\n                            const newUser = mutationResult.data.createUser;\n                            return Object.assign({}, previousResult, {\n                                // Append the new post\n                                //allUsers: [newUser, ...previousResult.allUsers]\n                            });\n                        }\n                    }\n                })\n        })\n    }),\n    withRedux(initializeStore, matchStateToProps, mapDispatchToProps)\n)(Signin);\n\n\n\n// WEBPACK FOOTER //\n// ./components/signin/Signin.js","module.exports = require('./dist/lib/router')\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/next/router.js\n// module id = ./node_modules/next/router.js\n// module chunks = 3 4","import styled from 'react-emotion';\n\nexport const Form = styled('form')({\n    borderBottom: '1px solid #ececec',\n    paddingBottom: '20px',\n    marginBottom: '20px'\n});\n\nexport const H1 = styled('h1')({\n    fontSize: '20px'\n});\n\nexport const H2 = styled('h2')({\n    fontSize: '24px'\n});\n\nexport const Input = styled('input')({\n    display: 'block',\n    marginBottom: '10px'\n});\n\nexport const Base = styled('div')({\n    display: 'flex',\n    flexDirection: 'row',\n    margin: '20px',\n    padding: '20px'\n});\n\nexport const Building = styled('div')({\n    display: 'block',\n    margin: '20px',\n    padding: '20px'\n});\n\n\n\n// WEBPACK FOOTER //\n// ./pages/styles.js"],"sourceRoot":""}