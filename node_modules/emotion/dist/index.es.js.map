{"version":3,"file":"index.es.js","sources":["../src/sheet.js","../src/index.js"],"sourcesContent":["/*\n\nhigh performance StyleSheet for css-in-js systems\n\n- uses multiple style tags behind the scenes for millions of rules\n- uses `insertRule` for appending in production for *much* faster performance\n- 'polyfills' on server side\n\n// usage\n\nimport StyleSheet from 'glamor/lib/sheet'\nlet styleSheet = new StyleSheet()\n\nstyleSheet.inject()\n- 'injects' the stylesheet into the page (or into memory if on server)\n\nstyleSheet.insert('#box { border: 1px solid red; }')\n- appends a css rule into the stylesheet\n\nstyleSheet.flush()\n- empties the stylesheet of all its contents\n\n*/\n\nfunction sheetForTag(tag) {\n  if (tag.sheet) {\n    return tag.sheet\n  }\n\n  // this weirdness brought to you by firefox\n  for (let i = 0; i < document.styleSheets.length; i++) {\n    if (document.styleSheets[i].ownerNode === tag) {\n      return document.styleSheets[i]\n    }\n  }\n}\n\nfunction makeStyleTag() {\n  let tag = document.createElement('style')\n  tag.type = 'text/css'\n  tag.setAttribute('data-emotion', '')\n  tag.appendChild(document.createTextNode(''))\n  document.head.appendChild(tag)\n  return tag\n}\n\nexport default class StyleSheet {\n  constructor() {\n    this.isBrowser = typeof window !== 'undefined'\n    this.isSpeedy = process.env.NODE_ENV === 'production' // the big drawback here is that the css won't be editable in devtools\n    this.tags = []\n    this.ctr = 0\n  }\n  inject() {\n    if (this.injected) {\n      throw new Error('already injected!')\n    }\n    if (this.isBrowser) {\n      this.tags[0] = makeStyleTag()\n    } else {\n      // server side 'polyfill'. just enough behavior to be useful.\n      this.sheet = []\n    }\n    this.injected = true\n  }\n  speedy(bool) {\n    if (this.ctr !== 0) {\n      // cannot change speedy mode after inserting any rule to sheet. Either call speedy(${bool}) earlier in your app, or call flush() before speedy(${bool})\n      throw new Error(`cannot change speedy now`)\n    }\n    this.isSpeedy = !!bool\n  }\n  insert(rule, sourceMap) {\n    if (this.isBrowser) {\n      // this is the ultrafast version, works across browsers\n      if (this.isSpeedy) {\n        const tag = this.tags[this.tags.length - 1]\n        const sheet = sheetForTag(tag)\n\n        try {\n          sheet.insertRule(rule, sheet.cssRules.length)\n        } catch (e) {\n          if (process.env.NODE_ENV !== 'production') {\n            console.warn('illegal rule', rule) // eslint-disable-line no-console\n          }\n        }\n      } else {\n        const tag = makeStyleTag()\n        this.tags.push(tag)\n        tag.appendChild(document.createTextNode(rule + (sourceMap || '')))\n      }\n      this.ctr++\n      if (this.ctr % 65000 === 0) {\n        this.tags.push(makeStyleTag())\n      }\n    } else {\n      // enough 'spec compliance' to be able to extract the rules later\n      // in other words, just the rule\n      this.sheet.push(rule)\n    }\n  }\n  flush() {\n    if (this.isBrowser) {\n      this.tags.forEach(tag => tag.parentNode.removeChild(tag))\n      this.tags = []\n      this.ctr = 0\n      // todo - look for remnants in document.styleSheets\n    } else {\n      // simpler on server\n      this.sheet = []\n    }\n    this.injected = false\n  }\n}\n","import { hashString, Stylis, memoize, unitless } from 'emotion-utils'\nimport stylisPluginEmotion from 'stylis-plugin-emotion'\nimport StyleSheet from './sheet'\n\nexport const sheet = new StyleSheet()\n// ðŸš€\nsheet.inject()\nconst stylisOptions = { keyframe: false }\n\nif (process.env.NODE_ENV !== 'production') {\n  stylisOptions.compress = false\n}\n\nlet stylis = new Stylis(stylisOptions)\n\nconst externalStylisPlugins = []\n\nconst use = stylis.use\n\nfunction insertRule(rule) {\n  sheet.insert(rule, currentSourceMap)\n}\n\nconst insertionPlugin = stylisPluginEmotion(insertRule)\n\nexport const useStylisPlugin = plugin => {\n  externalStylisPlugins.push(plugin)\n  use(null)(externalStylisPlugins)(insertionPlugin)\n}\n\nexport let registered = {}\n\nexport let inserted = {}\n\nlet currentSourceMap = ''\n\nstylis.use(insertionPlugin)\n\nfunction flatten(inArr) {\n  let arr = []\n  inArr.forEach(val => {\n    if (Array.isArray(val)) arr = arr.concat(flatten(val))\n    else arr = arr.concat(val)\n  })\n\n  return arr\n}\n\nfunction handleInterpolation(\n  interpolation: any,\n  couldBeSelectorInterpolation: boolean\n) {\n  if (\n    interpolation === undefined ||\n    interpolation === null ||\n    typeof interpolation === 'boolean'\n  ) {\n    return ''\n  }\n\n  if (typeof interpolation === 'function') {\n    return handleInterpolation.call(\n      this,\n      this === undefined\n        ? interpolation()\n        : interpolation(this.mergedProps, this.context),\n      couldBeSelectorInterpolation\n    )\n  }\n\n  if (typeof interpolation === 'object') {\n    return createStringFromObject.call(this, interpolation)\n  }\n\n  if (\n    couldBeSelectorInterpolation === false &&\n    registered[interpolation] !== undefined\n  ) {\n    return registered[interpolation]\n  }\n  return interpolation\n}\n\nconst hyphenateRegex = /[A-Z]|^ms/g\n\nconst processStyleName = memoize(styleName =>\n  styleName.replace(hyphenateRegex, '-$&').toLowerCase()\n)\n\nconst processStyleValue = (key, value) => {\n  if (value === undefined || value === null || typeof value === 'boolean')\n    return ''\n\n  if (unitless[key] !== 1 && !isNaN(value) && value !== 0) {\n    return value + 'px'\n  }\n  return value\n}\n\nconst objectToStringCache = new WeakMap()\n\nfunction createStringFromObject(obj) {\n  if (objectToStringCache.has(obj)) {\n    return objectToStringCache.get(obj)\n  }\n  let string = ''\n\n  if (Array.isArray(obj)) {\n    flatten(obj).forEach(function(interpolation) {\n      string += handleInterpolation.call(this, interpolation, false)\n    }, this)\n  } else {\n    Object.keys(obj).forEach(function(key) {\n      if (typeof obj[key] !== 'object') {\n        if (registered[obj[key]] !== undefined) {\n          string += `${key}{${registered[obj[key]]}}`\n        } else {\n          string += `${processStyleName(key)}:${processStyleValue(\n            key,\n            obj[key]\n          )};`\n        }\n      } else {\n        string += `${key}{${handleInterpolation.call(this, obj[key], false)}}`\n      }\n    }, this)\n  }\n  objectToStringCache.set(obj, string)\n\n  return string\n}\n\nfunction isLastCharDot(string) {\n  return string.charCodeAt(string.length - 1) === 46 // .\n}\n\nfunction createStyles(strings, ...interpolations) {\n  let stringMode = true\n  let styles = ''\n  if (strings == null || strings.raw === undefined) {\n    stringMode = false\n    styles = handleInterpolation.call(this, strings, false)\n  } else {\n    styles = strings[0]\n  }\n\n  interpolations.forEach(function(interpolation, i) {\n    styles += handleInterpolation.call(\n      this,\n      interpolation,\n      isLastCharDot(styles)\n    )\n    if (stringMode === true && strings[i + 1] !== undefined) {\n      styles += strings[i + 1]\n    }\n  }, this)\n\n  return styles\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  const sourceMapRegEx = /\\/\\*#\\ssourceMappingURL=data:application\\/json;\\S+\\s+\\*\\/\\s+\\/\\*@\\ssourceURL=\\S+\\s+\\*\\//\n  const oldStylis = stylis\n  stylis = (selector, styles) => {\n    const result = sourceMapRegEx.exec(styles)\n    currentSourceMap = result ? result[0] : ''\n    oldStylis(selector, styles)\n    currentSourceMap = ''\n  }\n}\n\nexport function css() {\n  const styles = createStyles.apply(this, arguments)\n\n  const hash = hashString(styles)\n  const cls = `css-${hash}`\n\n  if (registered[cls] === undefined) {\n    registered[cls] = styles\n  }\n  if (inserted[hash] === undefined) {\n    stylis(`.${cls}`, styles)\n    inserted[hash] = true\n  }\n  return cls\n}\n\nexport function injectGlobal(...args) {\n  const styles = createStyles(...args)\n  const hash = hashString(styles)\n  if (inserted[hash] === undefined) {\n    stylis('', styles)\n    inserted[hash] = true\n  }\n}\n\nexport function keyframes(...args) {\n  const styles = createStyles(...args)\n  const hash = hashString(styles)\n  const name = `animation-${hash}`\n  if (inserted[hash] === undefined) {\n    stylis('', `@keyframes ${name}{${styles}}`)\n    inserted[hash] = true\n  }\n  return name\n}\n\nexport function fontFace(...args) {\n  const styles = createStyles(...args)\n  const hash = hashString(styles)\n  if (inserted[hash] === undefined) {\n    stylis('', `@font-face{${styles}}`)\n    inserted[hash] = true\n  }\n}\n\nexport function getRegisteredStyles(registeredStyles, classNames) {\n  let rawClassName = ''\n\n  classNames.split(' ').forEach(className => {\n    if (registered[className] !== undefined) {\n      registeredStyles.push(className)\n    } else {\n      rawClassName += `${className} `\n    }\n  })\n  return rawClassName\n}\n\nexport function merge(className, sourceMap) {\n  const registeredStyles = []\n\n  const rawClassName = getRegisteredStyles(registeredStyles, className)\n\n  if (registeredStyles.length < 2) {\n    return className\n  }\n  return rawClassName + css(registeredStyles, sourceMap)\n}\n\nexport function hydrate(ids) {\n  ids.forEach(id => {\n    inserted[id] = true\n  })\n}\n\nexport function flush() {\n  sheet.flush()\n  inserted = {}\n  registered = {}\n  sheet.inject()\n}\n"],"names":["sheetForTag","tag","sheet","i","document","styleSheets","length","ownerNode","makeStyleTag","createElement","type","setAttribute","appendChild","createTextNode","head","StyleSheet","isBrowser","window","isSpeedy","process","env","NODE_ENV","tags","ctr","inject","injected","Error","speedy","bool","insert","rule","sourceMap","insertRule","cssRules","e","warn","push","flush","forEach","parentNode","removeChild","stylisOptions","keyframe","compress","stylis","Stylis","externalStylisPlugins","use","currentSourceMap","insertionPlugin","stylisPluginEmotion","useStylisPlugin","plugin","registered","inserted","flatten","inArr","arr","Array","isArray","val","concat","handleInterpolation","interpolation","couldBeSelectorInterpolation","undefined","call","mergedProps","context","createStringFromObject","hyphenateRegex","processStyleName","memoize","styleName","replace","toLowerCase","processStyleValue","key","value","unitless","isNaN","objectToStringCache","WeakMap","obj","has","get","string","keys","set","isLastCharDot","charCodeAt","createStyles","strings","stringMode","styles","raw","interpolations","sourceMapRegEx","oldStylis","selector","result","exec","css","apply","arguments","hash","hashString","cls","injectGlobal","keyframes","name","fontFace","getRegisteredStyles","registeredStyles","classNames","rawClassName","split","className","merge","hydrate","ids","id"],"mappings":"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"}